<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Define displayed values and mixed content — compose • flextable</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Define displayed values and mixed content — compose"><meta property="og:description" content="Modify flextable displayed values with eventually
mixed content paragraphs.
Function is handling complex formatting as image insertion with
as_image(), superscript with as_sup(), formated
text with as_chunk() and several other chunk functions.
Function mk_par is another name for compose as
there is an unwanted conflict with package 'purrr'.
If you only need to add some content at the end
or the beginning of paragraphs and keep existing
content as it is, functions append_chunks() and
prepend_chunks() should be prefered."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flextable</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.8.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Function reference</a>
</li>
<li>
  <a href="https://ardata-fr.github.io/flextable-book/" class="external-link">User Documentation</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/davidgohel/flextable/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define displayed values and mixed content</h1>
    <small class="dont-index">Source: <a href="https://github.com/davidgohel/flextable/blob/HEAD/R/compose.R" class="external-link"><code>R/compose.R</code></a></small>
    <div class="hidden name"><code>compose.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Modify flextable displayed values with eventually
mixed content paragraphs.</p>
<p>Function is handling complex formatting as image insertion with
<code><a href="as_image.html">as_image()</a></code>, superscript with <code><a href="as_sup.html">as_sup()</a></code>, formated
text with <code><a href="as_chunk.html">as_chunk()</a></code> and several other <em>chunk</em> functions.</p>
<p>Function <code>mk_par</code> is another name for <code>compose</code> as
there is an unwanted <strong>conflict with package 'purrr'</strong>.</p>
<p>If you only need to add some content at the end
or the beginning of paragraphs and keep existing
content as it is, functions <code><a href="append_chunks.html">append_chunks()</a></code> and
<code><a href="prepend_chunks.html">prepend_chunks()</a></code> should be prefered.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compose</span><span class="op">(</span><span class="va">x</span>, i <span class="op">=</span> <span class="cn">NULL</span>, j <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">value</span>, part <span class="op">=</span> <span class="st">"body"</span>, use_dot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mk_par</span><span class="op">(</span><span class="va">x</span>, i <span class="op">=</span> <span class="cn">NULL</span>, j <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">value</span>, part <span class="op">=</span> <span class="st">"body"</span>, use_dot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>a flextable object</p></dd>


<dt>i</dt>
<dd><p>rows selection</p></dd>


<dt>j</dt>
<dd><p>column selection</p></dd>


<dt>value</dt>
<dd><p>a call to function <code><a href="as_paragraph.html">as_paragraph()</a></code>.</p></dd>


<dt>part</dt>
<dd><p>partname of the table (one of 'all', 'body', 'header', 'footer')</p></dd>


<dt>use_dot</dt>
<dd><p>by default <code>use_dot=FALSE</code>; if <code>use_dot=TRUE</code>,
<code>value</code> is evaluated within a data.frame augmented of a column named <code>.</code>
containing the <code>j</code>th column.</p></dd>

</dl></div>
    <div id="illustrations">
    <h2>Illustrations</h2>
    


<p><img src="figures/fig_compose_1.png" width="117"></p>
<p><img src="figures/fig_compose_2.png" width="400"></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="fp_text_default.html">fp_text_default()</a></code>, <code><a href="as_chunk.html">as_chunk()</a></code>, <code><a href="as_b.html">as_b()</a></code>, <code><a href="as_word_field.html">as_word_field()</a></code>, <code><a href="labelizor.html">labelizor()</a></code></p>
<p>Other functions for mixed content paragraphs: 
<code><a href="append_chunks.html">append_chunks</a>()</code>,
<code><a href="as_paragraph.html">as_paragraph</a>()</code>,
<code><a href="prepend_chunks.html">prepend_chunks</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">ft_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="flextable.html">flextable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cars</span>, n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, col_keys <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"speed"</span>, <span class="st">"dist"</span>, <span class="st">"comment"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ft_1</span> <span class="op">&lt;-</span> <span class="fu">mk_par</span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">ft_1</span>, j <span class="op">=</span> <span class="st">"comment"</span>,</span></span>
<span class="r-in"><span>  i <span class="op">=</span> <span class="op">~</span> <span class="va">dist</span> <span class="op">&gt;</span> <span class="fl">9</span>,</span></span>
<span class="r-in"><span>  value <span class="op">=</span> <span class="fu"><a href="as_paragraph.html">as_paragraph</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="colorize.html">colorize</a></span><span class="op">(</span><span class="fu"><a href="as_i.html">as_i</a></span><span class="op">(</span><span class="st">"speed: "</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"gray"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="as_sup.html">as_sup</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%.0f"</span>, <span class="va">speed</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ft_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="set_table_properties.html">set_table_properties</a></span><span class="op">(</span><span class="va">ft_1</span>, layout <span class="op">=</span> <span class="st">"autofit"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ft_1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a flextable object.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> col_keys: `speed`, `dist`, `comment` </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> header has 1 row(s) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> body has 5 row(s) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> original dataset sample: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   speed dist comment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     4    2        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     4   10        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     7    4        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     7   22        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     8   16        </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using `use_dot = TRUE` ----</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample.int</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">150</span>, size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,<span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span>,<span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ft_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="flextable.html">flextable</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ft_2</span> <span class="op">&lt;-</span> <span class="fu">mk_par</span><span class="op">(</span><span class="va">ft_2</span>, j <span class="op">=</span> <span class="op">~</span> <span class="va">.</span> <span class="op">-</span><span class="va">Species</span>,</span></span>
<span class="r-in"><span>  value <span class="op">=</span> <span class="fu"><a href="as_paragraph.html">as_paragraph</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="minibar.html">minibar</a></span><span class="op">(</span><span class="va">.</span>, barcol <span class="op">=</span> <span class="st">"white"</span>,</span></span>
<span class="r-in"><span>            height <span class="op">=</span> <span class="fl">.1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>, use_dot <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ft_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="theme_vader.html">theme_vader</a></span><span class="op">(</span><span class="va">ft_2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ft_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="autofit.html">autofit</a></span><span class="op">(</span><span class="va">ft_2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ft_2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a flextable object.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> col_keys: `Sepal.Length`, `Sepal.Width`, `Petal.Length`, `Petal.Width`, `Species` </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> header has 1 row(s) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> body has 10 row(s) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> original dataset sample: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12          4.8         3.4          1.6         0.2     setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           5.1         3.5          1.4         0.2     setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 96          5.7         3.0          4.2         1.2 versicolor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52          6.4         3.2          4.5         1.5 versicolor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 79          6.0         2.9          4.5         1.5 versicolor</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><link href="../ardata.css" rel="stylesheet"><div class="author">
  <p>Version 0.8.2 - Developed by  - proudly brought to you by <a href="http://www.ardata.fr" class="external-link"><img alt="ardata" src="../ardata-logo.svg" style="vertical-align:middle;height:24px;"></a>
  </p>
</div>
<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> .</p>
</div>

      </footer></div>

  


  

  </body></html>

